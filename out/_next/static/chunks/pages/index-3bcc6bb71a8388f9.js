(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6616)}])},6616:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return l}});var n=r(5893),a=r(7294);function l(){let[e,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(null),[o,t]=(0,a.useState)(null),[d,i]=(0,a.useState)(null),c=async()=>{try{s(!0),t(null),i(null),console.log("Sending request...");let e=await fetch("https://gif-converter.lijinhai255.workers.dev/api/gif-converter",{method:"POST",headers:{Accept:"application/json"}});console.log("Response status:",e.status);let r=await e.json();if(console.log("Response data:",r),!e.ok)throw i(r.debug||{}),Error(r.details||"Server error: ".concat(e.status));if(r.success&&r.image)l(r.image),i(r.debug||{});else throw Error("Invalid response format")}catch(e){console.error("Error:",e),t(e.message)}finally{s(!1)}};return(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Image Converter Test"}),(0,n.jsx)("button",{onClick:c,disabled:e,className:"bg-blue-500 text-white px-4 py-2 rounded mb-4 disabled:bg-gray-400",children:e?"Processing...":"Test Conversion"}),o&&(0,n.jsxs)("div",{className:"text-red-500 mb-4 p-4 bg-red-50 rounded",children:[(0,n.jsx)("div",{className:"font-bold",children:"Error:"}),(0,n.jsx)("div",{children:o})]}),d&&(0,n.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded",children:[(0,n.jsx)("div",{className:"font-bold",children:"Debug Info:"}),(0,n.jsx)("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(d,null,2)})]}),r&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Processed Image:"}),(0,n.jsx)("img",{src:r,alt:"Processed",className:"w-96 border-2 border-gray-300 rounded",style:{imageRendering:"pixelated",width:"100px",height:"100px",backgroundColor:"#f0f0f0"},onError:e=>{console.error("Image load error:",e),t("Failed to load processed image")}})]}),r&&(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("div",{className:"font-bold",children:"Image URL:"}),(0,n.jsx)("div",{className:"break-all bg-gray-50 p-2 rounded",children:r})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);