(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6616)}])},6616:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return n}});var a=r(5893),t=r(7294);function n(){let[e,s]=(0,t.useState)(!1),[r,n]=(0,t.useState)(null),[i,l]=(0,t.useState)(null),[o,d]=(0,t.useState)(null),[c,m]=(0,t.useState)(null),g=async()=>{try{s(!0),l(null),d(null),m(null),n(null),console.log("Sending request...");let e=await fetch("https://gif-converter.lijinhai255.workers.dev/api/gif-converter",{method:"POST",headers:{Accept:"application/json"}});console.log("Response status:",e.status);let r=await e.json();if(console.log("Response data:",r),!e.ok)throw d(r.debug||{}),Error(r.details||"Server error: ".concat(e.status));if(r.success&&r.image){if(!r.image.startsWith("data:image/gif;base64,"))throw Error("Invalid image data format");m({format:"GIF",size:Math.round(.75*r.image.length),dimensions:"1x1 px (scaled to 100x100)"}),n(r.image),d(r.debug||{}),await new Promise((e,s)=>{let a=new Image;a.onload=e,a.onerror=s,a.src=r.image})}else throw Error("Invalid response format")}catch(e){console.error("Error:",e),l(e.message)}finally{s(!1)}};return(0,a.jsxs)("div",{className:"p-8 max-w-3xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Image Converter Test"}),(0,a.jsx)("button",{onClick:g,disabled:e,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg mb-6  disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:e?"Processing...":"Test Conversion"}),i&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,a.jsx)("div",{className:"font-semibold text-red-600",children:"Error:"}),(0,a.jsx)("div",{className:"text-red-700",children:i})]}),o&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"font-semibold mb-2",children:"Debug Info:"}),(0,a.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:JSON.stringify(o,null,2)})]}),r&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"Processed Image:"}),c&&(0,a.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:["Format: ",c.format]}),(0,a.jsxs)("div",{children:["Size: ",c.size," bytes"]}),(0,a.jsxs)("div",{children:["Dimensions: ",c.dimensions]})]}),(0,a.jsx)("div",{className:"p-4 bg-white border-2 border-gray-200 rounded-lg inline-block",children:(0,a.jsx)("div",{className:"bg-gray-100 p-2 rounded-md",children:(0,a.jsx)("img",{src:r,alt:"Processed",className:"border border-gray-300",style:{imageRendering:"pixelated",width:"100px",height:"100px",backgroundColor:"white",boxShadow:"0 0 10px rgba(0,0,0,0.1)"}})})}),(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"font-semibold mb-2",children:"Image Data URL:"}),(0,a.jsxs)("div",{className:"text-xs text-gray-600 break-all font-mono",children:[r.substring(0,100),"..."]})]})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);